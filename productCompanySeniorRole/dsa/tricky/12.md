Locked âœ…
Proceeding with **Topic 12** in the **same colorful `.md`**, **strict DSA**, **screen-share interviewâ€“ready** format.

---

## ğŸ“„ **File name:** `java-optional-dsa.md`

# ğŸ§  **DSA Questions â€“ `Optional` (Senior API Design Awareness)**

*(Senior Backend | Barclays / Enterprise Java)*

> âš ï¸ `Optional` is simple on the surface â€” **misused badly in production**.
> Interviewers look for **design maturity**, not syntax.

---

## ğŸ¯ DSA 1 â€” Creating Optional with `null`

```java
Optional<String> o = Optional.of(null);
System.out.println(o);
```

**Answer:**

```
NullPointerException
```

**Explanation:**
`Optional.of()` **does not allow null**.

---

## ğŸ¯ DSA 2 â€” Safe creation

```java
Optional<String> o = Optional.ofNullable(null);
System.out.println(o);
```

**Answer:**

```
Optional.empty
```

**Explanation:**
`ofNullable()` safely handles null.

---

## ğŸ¯ DSA 3 â€” `isPresent()` vs `get()` trap

```java
Optional<String> o = Optional.empty();
System.out.println(o.get());
```

**Answer:**

```
NoSuchElementException
```

**Explanation:**
Calling `get()` on empty Optional is unsafe.

---

## ğŸ¯ DSA 4 â€” Preferred access

```java
Optional<String> o = Optional.empty();
System.out.println(o.orElse("default"));
```

**Answer:**

```
default
```

**Explanation:**
`orElse()` provides a safe fallback.

---

## ğŸ¯ DSA 5 â€” `orElse()` eager evaluation (trap)

```java
Optional<String> o = Optional.of("java");
System.out.println(o.orElse(expensive()));
```

**Answer:**

```
expensive() IS executed
```

**Explanation:**
`orElse()` evaluates eagerly, even if value is present.

---

## ğŸ¯ DSA 6 â€” `orElseGet()` lazy evaluation

```java
Optional<String> o = Optional.of("java");
System.out.println(o.orElseGet(() -> expensive()));
```

**Answer:**

```
expensive() NOT executed
```

**Explanation:**
`orElseGet()` runs supplier **only when empty**.

---

## ğŸ¯ DSA 7 â€” Mapping Optional

```java
Optional<String> o = Optional.of("java");
System.out.println(o.map(String::toUpperCase).get());
```

**Answer:**

```
JAVA
```

**Explanation:**
`map()` transforms the value if present.

---

## ğŸ¯ DSA 8 â€” `map()` vs `flatMap()`

```java
Optional<Optional<String>> o =
    Optional.of("java").map(v -> Optional.of(v));
System.out.println(o.isPresent());
```

**Answer:**

```
true
```

**Explanation:**
`map()` nests Optionals.

---

## ğŸ¯ DSA 9 â€” Flattening Optional

```java
Optional<String> o =
    Optional.of("java").flatMap(v -> Optional.of(v));
System.out.println(o.get());
```

**Answer:**

```
java
```

**Explanation:**
`flatMap()` avoids nested Optionals.

---

## ğŸ¯ DSA 10 â€” `filter()` behavior

```java
Optional<String> o =
    Optional.of("java").filter(v -> v.length() > 5);
System.out.println(o);
```

**Answer:**

```
Optional.empty
```

**Explanation:**
Predicate fails â†’ Optional becomes empty.

---

## ğŸ¯ DSA 11 â€” `ifPresent()` side-effect

```java
Optional.of("java").ifPresent(System.out::println);
```

**Answer:**

```
java
```

**Explanation:**
Runs consumer only when value exists.

---

## ğŸ¯ DSA 12 â€” Optional as field (design smell)

```java
class User {
    Optional<String> name;
}
```

**Answer:**

```
Bad design
```

**Explanation:**
Optional is meant for **return types**, not fields.

---

## ğŸ¯ DSA 13 â€” Optional as method parameter

```java
void process(Optional<String> value) { }
```

**Answer:**

```
Discouraged
```

**Explanation:**
Callers shouldnâ€™t pass Optional; API becomes awkward.

---

## ğŸ¯ DSA 14 â€” Optional + Streams

```java
Optional<String> o = Optional.of("java");
o.stream().forEach(System.out::println);
```

**Answer:**

```
java
```

**Explanation:**
`Optional.stream()` emits 0 or 1 element.

---

## ğŸ¯ DSA 15 â€” Exception with Optional

```java
Optional<String> o = Optional.empty();
System.out.println(o.orElseThrow());
```

**Answer:**

```
NoSuchElementException
```

**Explanation:**
`orElseThrow()` throws when empty.

---

## ğŸŒŸ Why this topic matters

* Cleaner **null-handling**
* Better **API contracts**
* Avoids **defensive null checks**
* Shows **senior-level design thinking**

---

### â–¶ï¸ Next step

Reply with **`13`** to continue:

## ğŸ”¥ **Java Memory & Performance Awareness**
