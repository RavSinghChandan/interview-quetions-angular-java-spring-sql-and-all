Great. Now we move to one of the **highest-signal senior engineering skills** in LLD interviews:

> **API Contract Design**

Senior engineers don‚Äôt start with classes.
They start with **interfaces and APIs**, because APIs define how the system will actually be used.

This step alone can make you stand out strongly.

---


# STEP 11 ‚Äî API CONTRACT DESIGN (SYSTEM BOUNDARY THINKING)

APIs define how components communicate.

Classes define internal structure.
APIs define external behavior.

Senior engineers design APIs first.

---

# 1Ô∏è‚É£ WHAT IS AN API CONTRACT?

API Contract defines:

- what method does
- what input it accepts
- what output it returns
- what errors may occur
- performance expectations

It is a promise between components.

---

# 2Ô∏è‚É£ WHY INTERVIEWERS ASK THIS

Because API design reveals:

- system clarity
- abstraction skill
- boundary thinking
- production experience

Weak candidates design classes.
Strong candidates define APIs.

---

# 3Ô∏è‚É£ GOLDEN RULE

Always define APIs before implementation.

Correct order:

Requirements ‚Üí APIs ‚Üí Classes ‚Üí Methods

Wrong order:

Classes ‚Üí APIs

---

# 4Ô∏è‚É£ API DESIGN QUESTIONS YOU MUST ANSWER

For every API define:

What does it do?
What inputs?
What output?
What errors?
Is it sync or async?

---

# 5Ô∏è‚É£ INPUT DESIGN PRINCIPLES

Inputs should be:

- validated
- minimal
- meaningful
- typed

Bad:
process(String data)

Good:
process(OrderRequest request)

---

# 6Ô∏è‚É£ OUTPUT DESIGN PRINCIPLES

Return values should:

- be predictable
- contain status
- contain result
- contain error info

Common pattern:

Response {
 success
 data
 error
}

---

# 7Ô∏è‚É£ ERROR CONTRACT (SENIOR SIGNAL)

Always define:

Possible failure cases.

Example:

placeOrder()

May fail because:
- payment failed
- inventory unavailable
- validation failed

Mentioning this signals production thinking.

---

# 8Ô∏è‚É£ IDEMPOTENCY AWARENESS

Ask:

What happens if API called twice?

Example:

Payment API must be idempotent.

Otherwise duplicate charge.

Senior engineers mention idempotency automatically.

---

# 9Ô∏è‚É£ PAGINATION AWARENESS

For list APIs always ask:

Will data be large?

If yes ‚Üí add pagination.

Example:

getOrders(page, size)

This is strong signal.

---

# üîü FILTERING + SORTING DESIGN

List APIs should support:

- filtering
- sorting
- searching

This shows scalability thinking.

---

# 1Ô∏è‚É£1Ô∏è‚É£ VERSIONING STRATEGY

APIs evolve.

Design for versioning:

v1/orders  
v2/orders  

Never break existing clients.

Senior candidates mention backward compatibility.

---

# 1Ô∏è‚É£2Ô∏è‚É£ SYNC VS ASYNC API DESIGN

Ask:

Should response be immediate?

Use async when:

- processing long
- heavy operations
- external calls

Example:

submitReport() ‚Üí returns jobId

---

# 1Ô∏è‚É£3Ô∏è‚É£ CONTRACT STABILITY PRINCIPLE

Once API published ‚Üí hard to change.

So design carefully.

Rule:

APIs should be stable.
Implementations can change.

---

# 1Ô∏è‚É£4Ô∏è‚É£ METHOD NAMING RULE

Method names must express intent.

Bad:
doTask()

Good:
processPayment()

---

# 1Ô∏è‚É£5Ô∏è‚É£ API GRANULARITY

Avoid:

Too small APIs ‚Üí chatty system  
Too large APIs ‚Üí rigid system  

Goal:
Balanced design.

---

# 1Ô∏è‚É£6Ô∏è‚É£ SECURITY AWARENESS

Consider:

- authentication
- authorization
- validation
- rate limiting

Mentioning this shows maturity.

---

# 1Ô∏è‚É£7Ô∏è‚É£ API OWNERSHIP

Every API must have clear owner.

Ownership defines:

- responsibility
- maintenance
- scaling

---

# 1Ô∏è‚É£8Ô∏è‚É£ REAL INTERVIEW EXAMPLE

Design Ride Service API

Correct:

requestRide(userId, location)

cancelRide(rideId)

getRideStatus(rideId)

Clean. Intent-driven.

---

# 1Ô∏è‚É£9Ô∏è‚É£ API DESIGN CHECKLIST

Before finalizing verify:

‚úî clear method names  
‚úî minimal parameters  
‚úî predictable response  
‚úî error cases defined  
‚úî idempotent where needed  
‚úî pagination supported  
‚úî scalable structure  

---

# 2Ô∏è‚É£0Ô∏è‚É£ SENIOR INSIGHT

Classes define implementation.

APIs define architecture.

---

# üèÜ INTERVIEW POWER SENTENCE

Say:

"Let me define APIs first so we understand how components interact."

This instantly signals senior-level thinking.

---

# üéØ PRACTICE DRILL

Pick system daily:

Design APIs for:

- ATM
- Uber
- Netflix
- Shopping Cart

Do it in under 5 minutes.

---

# FINAL PRINCIPLE

Bad engineers design methods.

Good engineers design APIs.

Great engineers design contracts.
```

---

‚úÖ **Next file:** `STEP 12 ‚Äî state-management.md`
This is a very powerful topic ‚Äî state modeling. Interviewers love this because real systems are state machines.

Reply **12** when ready.
